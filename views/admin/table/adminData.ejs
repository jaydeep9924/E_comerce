
<%- include('../header') %>

<div class="col-12">
  <div class="bg-light rounded h-100 p-4 mt-5">

    <form class="mb-4">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="search for....." name="search">
        <span>
          <input type="submit" class="btn-primary ms-2 " value="search" name="searching">
        </span>
      </div>
    </form>

      <h6 class="mb-4">Admin Table</h6>
      <div class="table-responsive">
        <form action="/checkbox" method="post">
          <table class="table">
            <thead>
                <button type="submit" class="btn btn-primary">All Active / Deactive</button>
              <tr>
                  <th>
                      <input type="checkbox" id="allCheckBox" />
                  </th>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Email</th>
                  <th scope="col">Gender</th>
                  <th scope="col">Hobby</th>
                  <th scope="col">City</th>
                  <th scope="col">Description</th>
                  <th scope="col">Role</th>
                  <th scope="col">Image</th>
                  <th scope="col">Status</th>
                  <th scope="col">Created Date</th>
                  <th scope="col">Updated Date</th>
                  <th scope="col">Delete</th>
              </tr>
            </thead>
            <tbody>
              <% var i=1; for(var ad of adminData){ %>
                <tr>
                    <th>
                      <input type="checkbox" value="<%= ad.id %>" name="checkboxid" class="checkBoxClass">
                    </th>
                    <th><%= i %></th>
                    <td><%= ad.name %></td>
                    <td><%= ad.email %></td>
                    <td><%= ad.gender %></td>
                    <td><%= ad.hobby %></td>
                    <td><%= ad.city %></td>
                    <td class="product"><%= ad.desc %></td>
                    <td><%= ad.role %></td>
                    <td>
                      <img src="<%= ad.admin_img %>" height="100" width="100">
                    </td>
                    <td>
                      <% if(ad.isActive){ %>
                        <a href="?active=<%= ad.id %>" class="btn btn-success">Active</a>
                      <% } else{ %>
                        <a href="?deactive=<%= ad.id %>" class="btn btn-danger">Deactive</a>
                      <% } %>
                    </td>
                    <td><%= ad.createdAt %></td>
                    <td><%= ad.updatedAt %></td>
                    <td>
                      <a href="/deleteAdmin/<%= ad.id %>">Delete</a>
                    </td>
                </tr>
              <% i++;} %>

              <tr>
                
                 <% for(var i=1; i<=totalPage; i++){ %>
                  <td>
                  <a style=" padding: 10px 12px; background-color: #2A3F54; color: white;" href="?page=<%= i %>&search=<%= searchData %>"><%= i %></a>
                  </td>
                <% } %>
                
              </tr>

            </tbody>
          </table>
        </form>
      </div>
  </div>
</div>

<script>

  const movie = document.querySelectorAll('.product');
  
  movie.forEach((desc)=>{
    if(desc.innerText.length > 100){
      desc.innerText = desc.innerText.substring(0,50)+'......';
    }
  }) 
  
  
  </script>




<%- include('../footer') %>